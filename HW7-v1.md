# 旧カリキュラム-課題７

## 今の環境の脆弱性：

* EC2 instanceのinboundルールをmy ipに設定していて、サイトは外部のユーザーがアクセスできなくて、public ipに変えると誰でもアクセスできるようになりますが、攻撃されるリスクも上がります。対策としては、security groupのinbound sourceのportを80、IPをALBのsecurity groupに変わることでリスクが抑えられるかと思います。さらにSecurity Hubで設定情報を確認してもらいます。
* RDS：保存しているデータは暗号化されていないので、データが盗まれる時の被害を抑えるため、KMS（データーを暗号化する）で損害を抑えられると思います。また、Secrets Manager（ユーザ名とパスワードなどの認証情報を保管する）と併せて利用するのも認証情報もれのリスクも抑えられます。
* S3：保存しているデータは暗号化されていないので、データが盗まれる時の被害を抑えるため、KMS（データーを暗号化する）で損害を抑えられると思います。また、Secrets Manager（ユーザ名とパスワードなどの認証情報を保管する）と併せて利用するのも認証情報もれのリスクも抑えられます。
* SSL接続採用していない：ACMで証明書の発行もできます。使うことでユーザの情報が覗き見されないようににすることができます。さらにALBでhttpへの接続をhttpsに転送すればと思います。
* IAMのログイン情報漏れリスク：IAMで自分用のユーザしか作っていなく、全権限を与えていますので、もしログイン情報が漏れましたら危ないと思います。日頃のパスワード管理の他に、CloudWatch, CloudTrail, GuardDutyなどでログインに異常があるかどうかのセキュリティー検知できればと思います。\
また、ログインIDとパスワード以外に、ユーザーのAccess key IDとSecret Access Keyを漏れたらユーザーにログインすることもできるので、そちらの情報の保管も大事だそうです。




## 感想＆疑問
セキュリティーツールはたくさんありますが、現実的に全部採用するのは難しいと思います。\
安全な運用環境とコストのバランスは悩みそうです。\
実際の現場ではどんな手順でセキュリティツールを決めていくのは気になりますね。

他に思っていた疑問：
1. セキュリティーツールは常に稼働させた方がいいでしょうか。もしくは定期的に一回行えばいいでしょうか。
1. 第６回の課題で学習したcloudwatchはセキュリティツールとして使えないでしょうか。
1. どのセキュリティーツールを採用すべきかもAWS担当から提案することでしょうか？
1. サーバー攻撃が多発していた場合、アプリケーション自体の設計不良との可能性も考えられますでしょうか。\
  その場合はフロントエンジニアに改善してもらうことになるでしょうか。
1. 思い出しますが、前の会社ではAWSでサーバー構築して、Wordpressを導入していましたが、wordpress上で大きな変更（新しいpluginのインポート、実施）するたびに大体サーバーが落ちてしまいます。
   内部の過負荷になるとauto scalingできないでしょうか。
