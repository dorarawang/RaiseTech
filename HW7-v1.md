# 旧カリキュラム-課題７

## 今の環境の脆弱性：

* RDS, s3 bucketやEC2 instanceのinbound/outbound ルールはmy ipか0.0.0.0/0に設定していて、ip変わると不便でかつ各種な攻撃されやすそうでした。対策としては、rdsとs3のinbound sourceのIP制限をsecurity groupに変わることである程度手間を減り、リスクも抑えられるかと思います。さらにSecurity Hubを使ってAWS全面の設定を確認してもらえばと思います。
* OSやAPPにはバッグがあって利用されてしまう可能性：githubのDependabotでコードの確認、WAFで攻撃を防げればと思います。なお、InspectorでOSの脆弱性をスキャンしてもらうのも考えられます。
* SSL接続採用していない：ACMで証明書の発行もできます。使うことでユーザの情報が覗き見されないようににすることができます。さらにALBでhttpへの接続をhttpsに転送すればと思います。
* IAMのログイン情報漏れリスク：IAMで自分用のアカウトしか作っていなく、全権限を与えていますので、もしログイン情報が漏れましたら危ないと思います。日頃のパスワード管理の他に、Cloudwatch, Cloudtrial, Guarddutyなどでログインに異常があるかどうかのセキュリティー検知できればと思います。
* S3とRDSに保管されている資料は暗号化されていないので、KMSとsecret managerでデーターを暗号化してあげれば万が一データーが漏れた場合損害を抑えられると思います。


## 感想＆疑問
セキュリティーツールはたくさんありますが、現実的に全部採用するのは難しいと思います。\
安全な運用環境とコストのバランスは悩みそうです。\
実際の現場ではどんな手順でセキュリティツールを決めていくのは気になりますね。

他に思っていた疑問：
1. セキュリティーツールは常に稼働させた方がいいでしょうか。もしくは定期的に一回行えばいいでしょうか。
1. 第６回の課題で学習したcloudwatchはセキュリティツールとして使えないでしょうか。
1. どのセキュリティーツールを採用すべきかもAWS担当から提案することでしょうか？
1. サーバー攻撃が多発していた場合、アプリケーション自体の設計不良との可能性も考えられますでしょうか。\
  その場合はフロントエンジニアに改善してもらうことになるでしょうか。
1. 思い出しますが、前の会社ではAWSでサーバー構築して、Wordpressを導入していましたが、wordpress上で大きな変更（新しいpluginのインポート、実施）するたびに大体サーバーが落ちてしまいます。
   内部の過負荷になるとauto scalingできないでしょうか。
